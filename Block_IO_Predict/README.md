# Block_IO_Predict

- Linear Model을 이용한 Block IO 예측
- ARIMA Model을 이용한 Block IO 예측

## 목표

- 컴퓨터에 데이터를 저장할 때 발생하는 Block event들의 시간을 가져오는 프레임워크에서 결측된 시간 정보를 예측

## 개발환경

- Python (3.7 ver)
- CPU만 지원하는 Tensorflow 환경 (2.x ver)
- anaconda의 가상환경과 주피터를 이용 ( ver)

## Linear Model
```
데이터를 이용하여 새로운 데이터를 예측하며, 가장 기본적인 모델로 선을 이용하여 데이터의 맞는 선을 만들면서 데이터를 예측
네트워크를 깊이 생성하거나, 필터 수, 전처리, 정규화 or 표준화, 학습 데이터 형태 등을 바꿔가면서 예측
```
## ARIMA Model
```
ARIMA는 시계열 데이터 기반 분석 기법으로 과거지식이나 경험을 이용하여 예측하는 모형으로 안정적이지 않은 데이터에도 사용가능
시계열 데이터가 안정적이지 않을 때는 로그를 이용하거나 차분을 통해 시계열 데이터를 안정적으로 변환한 뒤에 분석
안정적인 시계열 데이터 : 시간의 추이와 관계없이 평균 및 분산이 불변
```

## 실험

### 20.08.06
#### Linear model 실험
- 동일한 네트워크 구성에서 활성함수인 relu 사용 여부와, 원 데이터와 예측 데이터의 차이를 확인(mae, 절대값 오차 평균을 이용)
- relu를 이용한 네트워크 mae : 0.8
- relu를 제거한 네트워크 mae : 0.3
### 20.08.10~12
#### Linear model 실험
- 데이터의 시간 부분을 상대시간으로 변경하고 정규화와 표준화를 이용하여 전 처리 한 후, 원 데이터와 예측 데이터의 차이를 확인(mae, 절대값 오차 평균을 이용)
- 상대시간, 정규화, 표준화의 전처리 한 후 네트워크에서 mae : 1.7
- 상대시간, 정규화의 전처리 한 후 네트워크에서 mae : 1.5
- 절대시간, 정규화, 표준화의 전처리 한 후 네트워크에서 mae : 4.2
- 상대시간, 정규화, 표준화의 전처리 한 후 네트워크 깊이를 줄여서 실험했을 때 mae : 0.126
- 상대시간, 정규화, 표준화의 전처리 한 후 네트워크 깊이를 줄여서 실험했을 때(종속변수도 정규화, 표준화 작업 시행) mae : 0.09
- 상대시간, 정규화, 표준화의 전처리 한 후 네트워크 깊이를 길게 실험했을 때(종속변수도 정규화, 표준화 작업 시행) mae : 0.05
- 20.08.06의 실험에서 relu를 제거하고 실험하는 것에 더 좋은 성능이 나와 20.08.10~12 실험에도 제거하고 실험을 했으나, 예측값이 minus value 현상이 나타남
- 종속변수도 정규화, 표준화 작업을 시행 후 학습했을때 더 좋은 성능이 나오지만 정규화, 표준화된 종속변수를 다시 원 데이터로 복구시켜 mae를 비교해 보진 못함
### 20.08.18
#### Linear model 실험
- 이전 row 데이터들을 학습데이터로 가져와 실험, BIO 이벤트의 값의 초당 갯수를 이용하여 실험
- 이전 5개의 row를 변수로 가져와 실험 mae : 0.06
- BIO 이벤트의 값의 초당 갯수를 변수로 가져와 실험 mae : 0.05

### 20.08.25
#### ARIMA model 실험
- 학습데이터와 예측값의 값을 바꿔가면서 실험
- 학습데이터 : 5000, 예측 값 : 500 일때 mae : 0.22
- 학습데이터 : 5000, 예측 값 : 100 일때 mae : 0.07
- 학습데이터 : 1000, 예측 값 : 100 일때 mae : 0.04

### 20.08.27
#### ARIMA model 실험
- nvme_sq로 정렬하여 데이터 index 재생성, 원 데이터에서 complete 값이 0인 row를 확인하고 해당 row에 nvme_sq를 0 값으로 변경 후 실험
- 학습데이터 : 10, 예측 값 : 1 일때 mae : 0.08
- 학습데이터 : 100, 예측 값 : 1 일때 mae : 0.02
- getrq로 정렬하여 데이터 index 재생성, 원 데이터에서 complete – nvme_sq 값이 0인 row를 확인하고 해당 row에 nvme_sq - getrq를 0 값으로 변경 후 실험
- 학습데이터 : 10, 예측 값 : 1 일때 mae : 0.000366
- 학습데이터 : 20, 예측 값 : 1 일때 mae : 0.000215
- 학습데이터 : 30, 예측 값 : 1 일때 mae : 0.000158
- 학습데이터 : 100, 예측 값 : 1 일때 mae : 0.000193
- 학습데이터 : 200, 예측 값 : 1 일때 mae : 0.000254
- 학습데이터 : 500, 예측 값 : 1 일때 mae : 0.000313
- 학습데이터 : 800, 예측 값 : 1 일때 mae : 0.000328
- 학습데이터 : 1000, 예측 값 : 1 일때 mae : 0.000313
